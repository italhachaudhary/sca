{% extends 'layout.html' %} {% block content %}
<div class="main-container w-full max-w-4xl p-8 space-y-6 rounded-xl shadow-lg">
  <h3 class="text-3xl font-bold text-center border-b border-gray-600 pb-4">
    Checkup History
  </h3>

  {% if not history %}
  <p class="text-center text-gray-400">You have no saved checkups.</p>
  {% else %}
  <div class="space-y-4">
    {% for record in history %}
    <div class="bg-gray-800 p-4 rounded-lg border border-gray-700">
      <p class="text-sm text-gray-400 mb-2">
        <strong>Date:</strong> {{ record.timestamp }}
      </p>
      <p class="mb-2">
        <strong class="font-medium text-white">Your Symptoms:</strong> {{
        record.symptoms }}
      </p>
      <div><strong class="font-medium text-white">AI Analysis:</strong></div>
      <ul class="list-disc list-inside text-gray-300">
        {% for d in record.report.diagnoses %}
        <li>{{ d.condition }} ({{ d.likelihood }})</li>
        {% endfor %}
      </ul>
    </div>
    {% endfor %}
  </div>
  {% endif %}
</div>
{% endblock %}
